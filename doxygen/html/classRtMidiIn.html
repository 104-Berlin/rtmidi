<HTML>
<HEAD>
<TITLE>The Synthesis ToolKit in C++ (STK)</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<CENTER>
<img src="princeton.gif"> &nbsp; <img src="ccrma.gif"><P>
<a class="qindex" href="index.html">Home</a> &nbsp; <a class="qindex" href="information.html">Information</a> &nbsp; <a class="qindex" href="classes.html">Classes</a> &nbsp; <a class="qindex" href="download.html">Download</a> &nbsp; <a class="qindex" href="usage.html">Usage</a> &nbsp; <a class="qindex" href="maillist.html">Mail List</a> &nbsp; <a class="qindex" href="system.html">Requirements</a> &nbsp; <a class="qindex" href="links.html">Links</a> &nbsp; <a class="qindex" href="tutorial.html">Tutorial</a></CENTER>
<HR>
<!-- Generated by Doxygen 1.3-rc3 -->
<h1>RtMidiIn Class Reference</h1>A realtime MIDI input class. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="RtMidi_8h-source.html">RtMidi.h</a>&gt;</code>
<p>
<p>Inheritance diagram for RtMidiIn:
<p><center><img src="classRtMidiIn.png" usemap="#RtMidiIn_map" border="0" alt=""></center>
<map name="RtMidiIn_map">
<area href="classRtMidi.html" alt="RtMidi" shape="rect" coords="0,0,57,24">
</map>
<a href="classRtMidiIn-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Types</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="s0" doxytag="RtMidiIn::RtMidiCallback"></a>
typedef void(*&nbsp;</td><td valign=bottom><a class="el" href="classRtMidiIn.html#s0">RtMidiCallback</a> )(double timeStamp, std::vector&lt; unsigned char &gt; *message, void *userData)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>User callback function type definition.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="a0" doxytag="RtMidiIn::RtMidiIn"></a>
&nbsp;</td><td valign=bottom><a class="el" href="classRtMidiIn.html#a0">RtMidiIn</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Default constructor.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classRtMidiIn.html#a1">RtMidiIn</a> (unsigned int portNumber, <a class="el" href="classRtMidiIn.html#s0">RtMidiCallback</a> callback=0, void *userData=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>An overloaded constructor which can be used to open a MIDI input port during instantiation.</em> <a href="#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a2" doxytag="RtMidiIn::~RtMidiIn"></a>
&nbsp;</td><td valign=bottom><a class="el" href="classRtMidiIn.html#a2">~RtMidiIn</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>If a MIDI connection is still open, it will be closed by the destructor.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classRtMidiIn.html#a3">openPort</a> (unsigned int portNumber=0, <a class="el" href="classRtMidiIn.html#s0">RtMidiCallback</a> callback=0, void *userData=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Open a MIDI input connection and optionally set a user callback function.</em> <a href="#a3"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a4" doxytag="RtMidiIn::closePort"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="classRtMidiIn.html#a4">closePort</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Close an open MIDI connection (if one exists).</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a5" doxytag="RtMidiIn::getPortCount"></a>
unsigned int&nbsp;</td><td valign=bottom><a class="el" href="classRtMidiIn.html#a5">getPortCount</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return the number of available MIDI input ports.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a6" doxytag="RtMidiIn::getPortName"></a>
std::string&nbsp;</td><td valign=bottom><a class="el" href="classRtMidiIn.html#a6">getPortName</a> (unsigned int portNumber=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return a string identifier for the specified MIDI input port number.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classRtMidiIn.html#a7">setQueueSizeLimit</a> (unsigned int queueSize)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set the maximum number of MIDI messages to be saved in the queue.</em> <a href="#a7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classRtMidiIn.html#a8">ignoreTypes</a> (bool midiSysex=true, bool midiTime=true, bool midiSense=true)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Specify whether certain MIDI message types should be queued or ignored during input.</em> <a href="#a8"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classRtMidiIn.html#a9">getMessage</a> (std::vector&lt; unsigned char &gt; *message)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Fill the user-provided vector with the data bytes for the next available MIDI message in the input queue and return the event delta-time in seconds.</em> <a href="#a9"></a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A realtime MIDI input class.
<p>
This class provides a common, platform-independent API for realtime MIDI input. It allows access to a single MIDI input port. Incoming MIDI messages are either saved to a queue for retrieval using the <a class="el" href="classRtMidiIn.html#a9">getMessage()</a> function or immediately passed to a user-specified callback function. Create multiple instances of this class to connect to more than one MIDI device at the same time.<p>
by Gary P. Scavone, 2003. 
<p>

<p>
Definition at line <a class="el" href="RtMidi_8h-source.html#l00053">53</a> of file <a class="el" href="RtMidi_8h-source.html">RtMidi.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a1" doxytag="RtMidiIn::RtMidiIn"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> RtMidiIn::RtMidiIn </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>portNumber</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classRtMidiIn.html#s0">RtMidiCallback</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>callback</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>userData</em> = 0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
An overloaded constructor which can be used to open a MIDI input port during instantiation.
<p>
If the optional RtMidiCallback argument is non-NULL, the callback function will be invoked whenever MIDI input messages become available. An exception is thrown if an error occurs while attempting to make the port connection. 
<p>
Definition at line <a class="el" href="RtMidi_8cpp-source.html#l00040">40</a> of file <a class="el" href="RtMidi_8cpp-source.html">RtMidi.cpp</a>.
<p>
References <a class="el" href="classRtMidiIn.html#a3">openPort()</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a3" doxytag="RtMidiIn::openPort"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void RtMidiIn::openPort </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>portNumber</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classRtMidiIn.html#s0">RtMidiCallback</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>callback</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>userData</em> = 0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open a MIDI input connection and optionally set a user callback function.
<p>
An optional port number greater than 0 can be specified. Otherwise, the default or first port found is opened. If the optional RtMidiCallback argument is non-NULL, the callback function will be associated with the port and invoked whenever MIDI input messages become available. An exception is thrown if an error occurs while attempting to make the port connection. 
<p>
Referenced by <a class="el" href="RtMidi_8cpp-source.html#l00040">RtMidiIn()</a>.    </td>
  </tr>
</table>
<a name="a7" doxytag="RtMidiIn::setQueueSizeLimit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void RtMidiIn::setQueueSizeLimit </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>queueSize</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the maximum number of MIDI messages to be saved in the queue.
<p>
If the queue size limit is reached, incoming messages will be ignored. The default limit is 1024.     </td>
  </tr>
</table>
<a name="a8" doxytag="RtMidiIn::ignoreTypes"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void RtMidiIn::ignoreTypes </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>midiSysex</em> = true, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>midiTime</em> = true, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>midiSense</em> = true</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Specify whether certain MIDI message types should be queued or ignored during input.
<p>
By default, MIDI timing and active sensing messages are ignored during message input because of their relative high data rates. MIDI sysex messages are ignored by default as well. Variable values of "true" imply that the respective message type will be ignored.     </td>
  </tr>
</table>
<a name="a9" doxytag="RtMidiIn::getMessage"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double RtMidiIn::getMessage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; unsigned char &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>message</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fill the user-provided vector with the data bytes for the next available MIDI message in the input queue and return the event delta-time in seconds.
<p>
This function returns immediately whether a new message is available or not. A valid message is indicated by a non-zero vector size. An exception is thrown if an error occurs during message retrieval or an input connection was not previously established.     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="RtMidi_8h-source.html">RtMidi.h</a><li><a class="el" href="RtMidi_8cpp-source.html">RtMidi.cpp</a></ul>
<HR>

<table>
  <tr><td><A HREF="http://www-ccrma.stanford.edu/software/stk/"><I>The Synthesis ToolKit in C++ (STK)</I></A></td></tr>
  <tr><td>&copy;1995-2002 Perry R. Cook and Gary P. Scavone. All Rights Reserved.</td></tr>
</table>

</BODY>
</HTML>
