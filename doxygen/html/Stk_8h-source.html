<HTML>
<HEAD>
<TITLE>The Synthesis ToolKit in C++ (STK)</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<CENTER>
<img src="princeton.gif"> &nbsp; <img src="ccrma.gif"><P>
<a class="qindex" href="index.html">Home</a> &nbsp; <a class="qindex" href="information.html">Information</a> &nbsp; <a class="qindex" href="classes.html">Classes</a> &nbsp; <a class="qindex" href="download.html">Download</a> &nbsp; <a class="qindex" href="usage.html">Usage</a> &nbsp; <a class="qindex" href="maillist.html">Mail List</a> &nbsp; <a class="qindex" href="system.html">Requirements</a> &nbsp; <a class="qindex" href="links.html">Links</a> &nbsp; <a class="qindex" href="tutorial.html">Tutorial</a></CENTER>
<HR>
<!-- Generated by Doxygen 1.3-rc3 -->
<h1>Stk.h</h1><div class="fragment"><pre>00001 <span class="comment">/***************************************************/</span>
00013 <span class="comment">/***************************************************/</span>
00014 
00015 <span class="preprocessor">#ifndef STK_STK_H</span>
00016 <span class="preprocessor"></span><span class="preprocessor">#define STK_STK_H</span>
00017 <span class="preprocessor"></span>
00018 <span class="preprocessor">#include &lt;string&gt;</span>
00019 <span class="preprocessor">#include &lt;iostream&gt;</span>
00020 
00021 <span class="comment">// Most data in STK is passed and calculated with the</span>
00022 <span class="comment">// following user-definable floating-point type.  You</span>
00023 <span class="comment">// can change this to "float" if you prefer or perhaps</span>
00024 <span class="comment">// a "long double" in the future.</span>
00025 <span class="keyword">typedef</span> <span class="keywordtype">double</span> StkFloat;
00026 
00028 
<a name="l00033"></a><a class="code" href="classStkError.html">00033</a> <span class="keyword">class </span><a class="code" href="classStkError.html">StkError</a>
00034 {
00035 <span class="keyword">public</span>:
00036   <span class="keyword">enum</span> Type { 
00037     WARNING,
00038     DEBUG_WARNING,
00039     FUNCTION_ARGUMENT,
00040     FILE_NOT_FOUND,
00041     FILE_UNKNOWN_FORMAT,
00042     FILE_ERROR,
00043     PROCESS_THREAD,
00044     PROCESS_SOCKET,
00045     PROCESS_SOCKET_IPADDR,
00046     AUDIO_SYSTEM,
00047     MIDI_SYSTEM,
00048     UNSPECIFIED
00049   };
00050 
00051 <span class="keyword">protected</span>:
00052   std::string message_;
00053   Type type_;
00054 
00055 <span class="keyword">public</span>:
<a name="l00057"></a><a class="code" href="classStkError.html#a0">00057</a>   <a class="code" href="classStkError.html#a0">StkError</a>( <span class="keyword">const</span> std::string&amp; message, Type type = StkError::UNSPECIFIED ) : message_(message), type_(type) {}
00058 
<a name="l00060"></a><a class="code" href="classStkError.html#a1">00060</a>   <span class="keyword">virtual</span> <a class="code" href="classStkError.html#a1">~StkError</a>(<span class="keywordtype">void</span>) {}
00061 
<a name="l00063"></a><a class="code" href="classStkError.html#a2">00063</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStkError.html#a2">printMessage</a>(<span class="keywordtype">void</span>) { std::cout &lt;&lt; <span class="charliteral">'\n'</span> &lt;&lt; message_ &lt;&lt; <span class="stringliteral">"\n\n"</span>; }
00064 
<a name="l00066"></a><a class="code" href="classStkError.html#a3">00066</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> Type&amp; <a class="code" href="classStkError.html#a3">getType</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> type_; }
00067 
<a name="l00069"></a><a class="code" href="classStkError.html#a4">00069</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> std::string&amp; <a class="code" href="classStkError.html#a4">getMessage</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> message_; }
00070 };
00071 
<a name="l00072"></a><a class="code" href="classStk.html">00072</a> <span class="keyword">class </span><a class="code" href="classStk.html">Stk</a>
00073 {
00074 <span class="keyword">public</span>:
00075 
00076   <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> StkFormat;
00077   <span class="keyword">static</span> <span class="keyword">const</span> StkFormat <a class="code" href="classStk.html#p0">STK_SINT8</a>;   
00078   <span class="keyword">static</span> <span class="keyword">const</span> StkFormat <a class="code" href="classStk.html#p1">STK_SINT16</a>;  
00079   <span class="keyword">static</span> <span class="keyword">const</span> StkFormat <a class="code" href="classStk.html#p2">STK_SINT32</a>;  
00080   <span class="keyword">static</span> <span class="keyword">const</span> StkFormat <a class="code" href="classStk.html#p3">STK_FLOAT32</a>; 
00081   <span class="keyword">static</span> <span class="keyword">const</span> StkFormat <a class="code" href="classStk.html#p4">STK_FLOAT64</a>; 
00083 
<a name="l00084"></a><a class="code" href="classStk.html#d0">00084</a>   <span class="keyword">static</span> StkFloat <a class="code" href="classStk.html#d0">sampleRate</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> srate_; }
00085 
00087 
<a name="l00095"></a><a class="code" href="classStk.html#d1">00095</a>   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#d1">setSampleRate</a>(StkFloat rate) { <span class="keywordflow">if</span> (rate &gt; 0.0) srate_ = rate; }
00096 
<a name="l00098"></a><a class="code" href="classStk.html#d2">00098</a>   <span class="keyword">static</span> std::string <a class="code" href="classStk.html#d2">rawwavePath</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> rawwavepath_; }
00099 
00101   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#d3">setRawwavePath</a>(std::string path);
00102 
00104   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#d4">swap16</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptr);
00105 
00107   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#d5">swap32</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptr);
00108 
00110   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#d6">swap64</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptr);
00111 
00113   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#d7">sleep</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> milliseconds);
00114 
00115 <span class="keyword">private</span>:
00116   <span class="keyword">static</span> StkFloat srate_;
00117   <span class="keyword">static</span> std::string rawwavepath_;
00118 
00119 <span class="keyword">protected</span>:
00120 
00122   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#e0">handleError</a>( <span class="keyword">const</span> std::string&amp; message, StkError::Type type );
00123 
00124 };
00125 
00126 <span class="comment">// Here are a few other useful typedefs.</span>
00127 <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">short</span> SINT16;
00128 <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">int</span> SINT32;
00129 <span class="keyword">typedef</span> <span class="keywordtype">float</span> FLOAT32;
00130 <span class="keyword">typedef</span> <span class="keywordtype">double</span> FLOAT64;
00131 
00132 <span class="comment">// Boolean values</span>
00133 <span class="preprocessor">#define FALSE 0</span>
00134 <span class="preprocessor"></span><span class="preprocessor">#define TRUE 1</span>
00135 <span class="preprocessor"></span>
00136 <span class="comment">// The default sampling rate.</span>
00137 <span class="preprocessor">#define SRATE (StkFloat) 44100.0</span>
00138 <span class="preprocessor"></span>
00139 <span class="comment">// The default real-time audio input and output buffer size.  If</span>
00140 <span class="comment">// clicks are occuring in the input and/or output sound stream, a</span>
00141 <span class="comment">// larger buffer size may help.  Larger buffer sizes, however, result</span>
00142 <span class="comment">// in more latency.</span>
00143 <span class="preprocessor">#define RT_BUFFER_SIZE 512</span>
00144 <span class="preprocessor"></span>
00145 <span class="comment">// The default rawwave path value is set with the preprocessor</span>
00146 <span class="comment">// definition RAWWAVE_PATH.  This can be specified as an argument to</span>
00147 <span class="comment">// the configure script, in an integrated development environment, or</span>
00148 <span class="comment">// below.  The global STK rawwave path variable can be dynamically set</span>
00149 <span class="comment">// with the Stk::setRawwavePath() function.  This value is</span>
00150 <span class="comment">// concatenated to the beginning of all references to rawwave files in</span>
00151 <span class="comment">// various STK classes.  If you wish to move the rawwaves directory to</span>
00152 <span class="comment">// a different location in your file system, you will need to set this</span>
00153 <span class="comment">// path definition appropriately.</span>
00154 <span class="preprocessor">#if !defined(RAWWAVE_PATH)</span>
00155 <span class="preprocessor"></span><span class="preprocessor">  #define RAWWAVE_PATH "../../rawwaves/"</span>
00156 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00157 <span class="preprocessor"></span>
00158 <span class="preprocessor">#define PI (MY_FLOAT) 3.14159265359</span>
00159 <span class="preprocessor"></span><span class="preprocessor">#define TWO_PI (MY_FLOAT) (MY_FLOAT) (2 * PI)</span>
00160 <span class="preprocessor"></span>
00161 <span class="preprocessor">#define ONE_OVER_128 (MY_FLOAT) 0.0078125</span>
00162 <span class="preprocessor"></span>
00163 <span class="preprocessor">#if defined(__WINDOWS_DS__) || defined(__WINDOWS_ASIO__)</span>
00164 <span class="preprocessor"></span><span class="preprocessor">  #define __OS_WINDOWS__</span>
00165 <span class="preprocessor"></span><span class="preprocessor">  #define __STK_REALTIME__</span>
00166 <span class="preprocessor"></span><span class="preprocessor">#elif defined(__LINUX_OSS__) || defined(__LINUX_ALSA__) || defined(__LINUX_JACK__)</span>
00167 <span class="preprocessor"></span><span class="preprocessor">  #define __OS_LINUX__</span>
00168 <span class="preprocessor"></span><span class="preprocessor">  #define __STK_REALTIME__</span>
00169 <span class="preprocessor"></span><span class="preprocessor">#elif defined(__IRIX_AL__)</span>
00170 <span class="preprocessor"></span><span class="preprocessor">  #define __OS_IRIX__</span>
00171 <span class="preprocessor"></span><span class="preprocessor">  #define __STK_REALTIME__</span>
00172 <span class="preprocessor"></span><span class="preprocessor">#elif defined(__MACOSX_CORE__)</span>
00173 <span class="preprocessor"></span><span class="preprocessor">  #define __OS_MACOSX__</span>
00174 <span class="preprocessor"></span><span class="preprocessor">  #define __STK_REALTIME__</span>
00175 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00176 <span class="preprocessor"></span>
00177 <span class="comment">//#define __STK_DEBUG__</span>
00178 
00179 <span class="preprocessor">#endif</span>
</pre></div><HR>

<table>
  <tr><td><A HREF="http://www-ccrma.stanford.edu/software/stk/"><I>The Synthesis ToolKit in C++ (STK)</I></A></td></tr>
  <tr><td>&copy;1995-2002 Perry R. Cook and Gary P. Scavone. All Rights Reserved.</td></tr>
</table>

</BODY>
</HTML>
